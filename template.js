"use strict";

var template = function template() {
	return "\n\t\tfunction {{{ name }}}( {{{ parameter }}} ){\n\t\t\ttry{\n\t\t\t\tvar parameter = Array.from( arguments );\n\n\t\t\t\tvar template = \"( function evaluate( ){ var result = undefined; @body return result; } ).bind( @bind )( )\"\n\t\t\t\t\t.replace( \"@bind\", \"( typeof global != 'undefined' )? global : ( typeof window != 'undefined' )? window : this\" )\n\t\t\t\t\t.replace( \"@body\", \"try{ result = ( @expression ); }catch( error ){ @error }\" )\n\t\t\t\t\t.replace( \"@error\", \"throw new Error( 'error executing expression, ' + error.stack );\" );\n\n\t\t\t\tif( this instanceof {{{ name }}} && parameter.length ){\n\t\t\t\t\tif( typeof this.initialize == \"function\" ){\n\t\t\t\t\t\tthis.initialize.apply( this, parameter );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t}else if( this instanceof {{{ name }}} && !parameter.length ){\n\t\t\t\t\tif( typeof this.initialize == \"function\" ){\n\t\t\t\t\t\tthis.initialize( );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t}else if( !( this instanceof {{{ name }}} ) && parameter.length ){\n\t\t\t\t\tvar variable = \"{{{ parameter }}}\".split( \",\" );\n\t\t\t\t\tvar initialize = {{{ name }}}.prototype.initialize;\n\t\t\t\t\tif( typeof initialize == \"function\" ){\n\t\t\t\t\t\tvar pattern = /^function\\s+[a-zA-Z0-9\\_\\$]+\\s*\\(\\s*([a-zA-Z0-9\\_\\$\\s\\,]+?)\\s*\\)/;\n\n\t\t\t\t\t\tvar argument = ( ( initialize.toString( )\n\t\t\t\t\t\t\t.match( pattern ) || [ ] )[ 1 ] || \"\" )\n\t\t\t\t\t\t\t.split( /\\,\\s*/ )\n\t\t\t\t\t\t\t.map( ( variable ) => { return variable.trim( ); } )\n\t\t\t\t\t\t\t.filter( ( variable ) => { return !!variable; } );\n\n\t\t\t\t\t\tif( argument.length > 0 ){\n\t\t\t\t\t\t\tvariable = argument;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar expression = \"function delegate( @parameter ){ return new this( @parameter ); }\"\n\t\t\t\t\t\t.replace( /@parameter/g,\n\t\t\t\t\t\t\tparameter.map( function onEachParameter( item, index ){\n\t\t\t\t\t\t\t\treturn variable[ index ] || \"abcdefghijklmnopqrstuvwxyz\"[ index ];\n\t\t\t\t\t\t\t} ).join( \",\" ) );\n\n\t\t\t\t\texpression = template.replace( \"@expression\", expression );\n\n\t\t\t\t\treturn eval( expression ).apply( {{{ name }}}, parameter );\n\n\t\t\t\t}else{\n\t\t\t\t\tvar expression = \"function delegate( ){ return new this( ); }\";\n\n\t\t\t\t\texpression = template.replace( \"@expression\", expression );\n\n\t\t\t\t\treturn eval( expression ).call( {{{ name }}} );\n\t\t\t\t}\n\n\t\t\t}catch( error ){\n\t\t\t\tthrow new Error( \"error creating instance of {{{ name }}}, \" + error.stack );\n\t\t\t}\n\t\t};\n\t";
};

module.exports = template;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlbXBsYXRlLm1vZHVsZS5qcyJdLCJuYW1lcyI6WyJ0ZW1wbGF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLFdBQVcsU0FBU0EsUUFBVCxHQUFvQjtBQUNwQztBQWdFQSxDQWpFRDs7QUFtRUFDLE9BQU9DLE9BQVAsR0FBaUJGLFFBQWpCIiwiZmlsZSI6InRlbXBsYXRlLm1vZHVsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0ZW1wbGF0ZSA9IGZ1bmN0aW9uIHRlbXBsYXRlKCApe1xuXHRyZXR1cm4gYFxuXHRcdGZ1bmN0aW9uIHt7eyBuYW1lIH19fSgge3t7IHBhcmFtZXRlciB9fX0gKXtcblx0XHRcdHRyeXtcblx0XHRcdFx0dmFyIHBhcmFtZXRlciA9IEFycmF5LmZyb20oIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRcdHZhciB0ZW1wbGF0ZSA9IFwiKCBmdW5jdGlvbiBldmFsdWF0ZSggKXsgdmFyIHJlc3VsdCA9IHVuZGVmaW5lZDsgQGJvZHkgcmV0dXJuIHJlc3VsdDsgfSApLmJpbmQoIEBiaW5kICkoIClcIlxuXHRcdFx0XHRcdC5yZXBsYWNlKCBcIkBiaW5kXCIsIFwiKCB0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnICk/IGdsb2JhbCA6ICggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyApPyB3aW5kb3cgOiB0aGlzXCIgKVxuXHRcdFx0XHRcdC5yZXBsYWNlKCBcIkBib2R5XCIsIFwidHJ5eyByZXN1bHQgPSAoIEBleHByZXNzaW9uICk7IH1jYXRjaCggZXJyb3IgKXsgQGVycm9yIH1cIiApXG5cdFx0XHRcdFx0LnJlcGxhY2UoIFwiQGVycm9yXCIsIFwidGhyb3cgbmV3IEVycm9yKCAnZXJyb3IgZXhlY3V0aW5nIGV4cHJlc3Npb24sICcgKyBlcnJvci5zdGFjayApO1wiICk7XG5cblx0XHRcdFx0aWYoIHRoaXMgaW5zdGFuY2VvZiB7e3sgbmFtZSB9fX0gJiYgcGFyYW1ldGVyLmxlbmd0aCApe1xuXHRcdFx0XHRcdGlmKCB0eXBlb2YgdGhpcy5pbml0aWFsaXplID09IFwiZnVuY3Rpb25cIiApe1xuXHRcdFx0XHRcdFx0dGhpcy5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBwYXJhbWV0ZXIgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHR9ZWxzZSBpZiggdGhpcyBpbnN0YW5jZW9mIHt7eyBuYW1lIH19fSAmJiAhcGFyYW1ldGVyLmxlbmd0aCApe1xuXHRcdFx0XHRcdGlmKCB0eXBlb2YgdGhpcy5pbml0aWFsaXplID09IFwiZnVuY3Rpb25cIiApe1xuXHRcdFx0XHRcdFx0dGhpcy5pbml0aWFsaXplKCApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdH1lbHNlIGlmKCAhKCB0aGlzIGluc3RhbmNlb2Yge3t7IG5hbWUgfX19ICkgJiYgcGFyYW1ldGVyLmxlbmd0aCApe1xuXHRcdFx0XHRcdHZhciB2YXJpYWJsZSA9IFwie3t7IHBhcmFtZXRlciB9fX1cIi5zcGxpdCggXCIsXCIgKTtcblx0XHRcdFx0XHR2YXIgaW5pdGlhbGl6ZSA9IHt7eyBuYW1lIH19fS5wcm90b3R5cGUuaW5pdGlhbGl6ZTtcblx0XHRcdFx0XHRpZiggdHlwZW9mIGluaXRpYWxpemUgPT0gXCJmdW5jdGlvblwiICl7XG5cdFx0XHRcdFx0XHR2YXIgcGF0dGVybiA9IC9eZnVuY3Rpb25cXFxccytbYS16QS1aMC05XFxcXF9cXFxcJF0rXFxcXHMqXFxcXChcXFxccyooW2EtekEtWjAtOVxcXFxfXFxcXCRcXFxcc1xcXFwsXSs/KVxcXFxzKlxcXFwpLztcblxuXHRcdFx0XHRcdFx0dmFyIGFyZ3VtZW50ID0gKCAoIGluaXRpYWxpemUudG9TdHJpbmcoIClcblx0XHRcdFx0XHRcdFx0Lm1hdGNoKCBwYXR0ZXJuICkgfHwgWyBdIClbIDEgXSB8fCBcIlwiIClcblx0XHRcdFx0XHRcdFx0LnNwbGl0KCAvXFxcXCxcXFxccyovIClcblx0XHRcdFx0XHRcdFx0Lm1hcCggKCB2YXJpYWJsZSApID0+IHsgcmV0dXJuIHZhcmlhYmxlLnRyaW0oICk7IH0gKVxuXHRcdFx0XHRcdFx0XHQuZmlsdGVyKCAoIHZhcmlhYmxlICkgPT4geyByZXR1cm4gISF2YXJpYWJsZTsgfSApO1xuXG5cdFx0XHRcdFx0XHRpZiggYXJndW1lbnQubGVuZ3RoID4gMCApe1xuXHRcdFx0XHRcdFx0XHR2YXJpYWJsZSA9IGFyZ3VtZW50O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBleHByZXNzaW9uID0gXCJmdW5jdGlvbiBkZWxlZ2F0ZSggQHBhcmFtZXRlciApeyByZXR1cm4gbmV3IHRoaXMoIEBwYXJhbWV0ZXIgKTsgfVwiXG5cdFx0XHRcdFx0XHQucmVwbGFjZSggL1xcQHBhcmFtZXRlci9nLFxuXHRcdFx0XHRcdFx0XHRwYXJhbWV0ZXIubWFwKCBmdW5jdGlvbiBvbkVhY2hQYXJhbWV0ZXIoIGl0ZW0sIGluZGV4ICl7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhcmlhYmxlWyBpbmRleCBdIHx8IFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIlsgaW5kZXggXTtcblx0XHRcdFx0XHRcdFx0fSApLmpvaW4oIFwiLFwiICkgKTtcblxuXHRcdFx0XHRcdGV4cHJlc3Npb24gPSB0ZW1wbGF0ZS5yZXBsYWNlKCBcIkBleHByZXNzaW9uXCIsIGV4cHJlc3Npb24gKTtcblxuXHRcdFx0XHRcdHJldHVybiBldmFsKCBleHByZXNzaW9uICkuYXBwbHkoIHt7eyBuYW1lIH19fSwgcGFyYW1ldGVyICk7XG5cblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0dmFyIGV4cHJlc3Npb24gPSBcImZ1bmN0aW9uIGRlbGVnYXRlKCApeyByZXR1cm4gbmV3IHRoaXMoICk7IH1cIjtcblxuXHRcdFx0XHRcdGV4cHJlc3Npb24gPSB0ZW1wbGF0ZS5yZXBsYWNlKCBcIkBleHByZXNzaW9uXCIsIGV4cHJlc3Npb24gKTtcblxuXHRcdFx0XHRcdHJldHVybiBldmFsKCBleHByZXNzaW9uICkuY2FsbCgge3t7IG5hbWUgfX19ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fWNhdGNoKCBlcnJvciApe1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwiZXJyb3IgY3JlYXRpbmcgaW5zdGFuY2Ugb2Yge3t7IG5hbWUgfX19LCBcIiArIGVycm9yLnN0YWNrICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0YDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdGVtcGxhdGU7XG4iXX0=
